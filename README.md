# Contacts CLI Mini App

## Overview
This repository contains a simple Node.js CLI-style mini application for managing a contacts list stored in a JSON file.

You can:
- **Generate** multiple fake contacts
- **Add** a single fake contact
- **List** all contacts
- **Count** contacts
- **Remove** the last contact
- **Remove** all contacts

Contacts are persisted in `src/db/db.json`.

## Tech Stack
- **Node.js** (ES Modules)
- **@faker-js/faker** for generating realistic fake data
- **fs** (Node core) for file I/O
- **ESLint** for linting

## Project Structure
```
src/
  constants/
    contacts.js          # Path constant to the DB file
  db/
    db.json              # Contacts storage (JSON array)
  scripts/
    getAllContacts.js    # Prints all contacts
    generateContacts.js  # Appends N fake contacts (default 2 in script)
    addOneContact.js     # Appends a single fake contact
    countContacts.js     # Prints count of contacts
    removeLastContact.js # Removes the last contact if present
    removeAllContacts.js # Clears the contacts file
  utils/
    readContacts.js      # Safe JSON reader (handles missing/invalid file)
    writeContacts.js     # JSON writer with pretty-printing
    createFakeContact.js # Builds a fake contact object
```

## Installation
1. Ensure you have Node.js 18+ installed.
2. Install dependencies:
   ```bash
   npm install
   ```

## NPM Scripts
The following scripts are defined in `package.json`:

- **get-all**: Print all contacts
  ```bash
  npm run get-all
  ```

- **generate**: Generate and append contacts (default: 2)
  ```bash
  npm run generate
  ```
  Note: `src/scripts/generateContacts.js` calls `generateContacts(2)` by default. You can adjust the number inside the script if needed.

- **add-one**: Add a single fake contact
  ```bash
  npm run add-one
  ```

- **count**: Print the number of contacts
  ```bash
  npm run count
  ```

- **remove-last**: Remove the last contact
  ```bash
  npm run remove-last
  ```

- **remove-all**: Remove all contacts
  ```bash
  npm run remove-all
  ```

## Data Schema
A contact object has the following shape (generated by `createFakeContact.js`):
```json
{
  "id": "uuid",
  "name": "Full Name",
  "phone": "+1 555-123-4567",
  "email": "example@mail.com",
  "job": "Job Title"
}
```

## Notes
- If `db.json` is missing or empty, readers return an empty array safely.
- The path to the DB is defined in `src/constants/contacts.js` as `PATH_DB`. Ensure the relative path remains valid if you move files.

## License
ISC
